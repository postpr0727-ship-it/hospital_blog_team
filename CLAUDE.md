# CLAUDE.md

김포다조은병원 블로그 자동 생성 시스템 - Claude Code 가이드

## 프로젝트 개요

의료 블로그 콘텐츠를 5단계 멀티 에이전트 시스템으로 자동 생성합니다.
- **목표**: 네이버 블로그 복붙용 완성 본문 + 의료법 준수 + 병원 홍보 (15-20%)
- **출력**:
  - `output/[날짜]_[한글제목].md` (본문, 3000-3500자, 의료법 검토 완료)
  - `output/[날짜]_[한글제목]_이미지가이드.md` (이미지 가이드만)
- **핵심**: 네이버 블로그에 바로 복붙, 이미지는 AI 생성 또는 직접 제작

## 프로세스 (5단계)

### 1단계: Planner (agents/planner.md)
- 입력: 키워드 (예: "고혈압 겨울철 관리")
- 출력: `temp/outline.json` (6개 섹션 구조 + 테마)
- 역할:
  - 서론 1 + 본론 4 + 결론 1
  - **키워드 기반 테마 자동 선택** (8개 테마 중)
  - 이미지 통일성을 위한 색상/디자인 스타일 결정

### 2단계: Researcher (agents/researcher.md) ⭐ 자동 정보 수집
- 입력: `temp/outline.json`
- 출력: `temp/research.json`
- **역할**:
  - **WebSearch 자동 실행** (본론 4개 섹션당 1회, 총 4회)
  - **신뢰할 수 있는 출처**: 질병관리청, 대한의학회, 대학병원 등 Level 1 출처 우선
  - **의료법 1차 필터링**: 과장 표현 자동 제거
  - 의료 정보 리서치, 통계, 팁 수집
  - 출처 명시 (references 필드에 4개 이상)

### 3단계: Writer (agents/writer.md)
- 입력: `temp/outline.json` + `temp/research.json`
- 출력: `temp/draft.md` (초안)
- **역할**:
  - 본문 마크다운 생성 (3000-3500자)
  - 이미지 placeholder 삽입 (`[IMAGE: 설명]` 형식)
  - 네이버 SEO 최적화 (키워드 배치, 구조화, 가독성)
  - 병원 홍보 강화 (각 섹션마다 검사/치료 안내, 전체 15-20%)
  - 기본적인 의료법 주의사항 준수

### 4단계: Compliance Checker (agents/compliance_checker.md) ⭐ 의료법 검토 및 최종 본문
- 입력: `temp/draft.md`
- 출력: **`output/[날짜]_[한글제목].md` (최종 본문)**
- **역할**:
  - **전문적인 의료법 위반 검토** (200줄 전문 로직)
  - 심각도 평가 (high/medium/low)
  - 위반 사항 자동 수정
  - `temp/compliance_report.json` 생성 (감사 추적)
  - **output 폴더에 한글 파일명으로 저장**

### 5단계: Image Layout Designer (agents/image_layout_designer.md) ⭐ 이미지 가이드만
- 입력: `temp/outline.json` (테마 포함)
- 출력: **`output/[날짜]_[한글제목]_이미지가이드.md` (이미지 가이드만)**
- **역할**:
  - **본문 내용 없이 이미지 가이드만 작성**
  - outline 기반으로 6개 이미지 계획 수립
  - **테마 기반 통일성**: 6개 이미지 모두 동일한 색상 팔레트/타이포/스타일 적용
  - **AI 프롬프트와 디자이너 가이드 분리** ⭐
    - 🤖 **AI 이미지 생성 프롬프트**: 나노바나나/ImageFX에 바로 복붙 (폰트명, px 등 수치 제외)
    - 📐 **디자이너용 상세 가이드**: Canva/Figma 작업용 상세 스펙 (타이포, 여백 등)
  - **최신 디자인 트렌드 반영**: 테마별 글래스모피즘, 3D 아이소메트릭, 소프트 그라디언트 등
  - AI 이미지 생성 도구(ImageFX, Midjourney, 나노바나나)나 디자인 툴(Canva, Figma)에서 바로 활용 가능

## 주요 특징

### 테마 시스템 (NEW!) ⭐
- ✅ **8개 테마 랜덤 선택**: 매번 자동으로 다양한 색상 조합 생성
  - Trust Blue - 파란색 계열 (전문적, 신뢰감)
  - Warm Orange - 주황색 계열 (따뜻함, 친근함)
  - Fresh Green - 초록색 계열 (신선함, 건강)
  - Calm Purple - 보라색 계열 (차분함, 안정감)
  - Energetic Coral - 코랄색 계열 (활력, 에너지)
  - Gentle Pink - 핑크색 계열 (부드러움, 온화함)
  - Professional Gray - 회색 계열 (깔끔함, 모던함)
  - Vibrant Yellow - 노란색 계열 (활기, 긍정)
- ✅ **6개 이미지 통일성**: 동일한 색상 팔레트, 타이포그래피, 디자인 스타일
- ✅ **다양성**: 매번 다른 느낌의 블로그로 콘텐츠 라이브러리 풍성

### 이미지 제작
- ✅ **AI 프롬프트와 디자이너 가이드 분리** ⭐ NEW
  - 🤖 **AI 이미지 생성 프롬프트**: 나노바나나/ImageFX에 바로 복붙 가능
    - 순수 시각적 묘사만 포함 (폰트명, pt, px 등 수치 제외)
    - "부드러운 파란색 그라디언트 배경, 3D 입체감 있는 혈관 일러스트..." 형식
  - 📐 **디자이너용 상세 가이드**: Canva/Figma 작업용 상세 스펙
    - 타이포그래피 (폰트명, pt, 굵기)
    - 여백 및 간격 (px 단위)
    - 레이아웃 구성 상세
- ✅ **디테일한 디자이너 가이드**: 레이아웃, 텍스트, 색상, 구도 상세 명시
- ✅ **최신 디자인 트렌드**: 글래스모피즘, 3D 요소, 소프트 그라디언트, 미니멀리즘
- ✅ **세련된 디자인**: 2025-2026 트렌드 반영, 높은 퀄리티
- ✅ **AI 도구 호환**: ImageFX, Midjourney, 나노바나나에서 가이드 활용하여 제작
- ✅ **통일감 있는 비주얼**: 블로그 한 편의 6개 이미지가 일관된 스타일
- ✅ **이미지 비율 다양화**: 16:9와 1:1 번갈아 적용 ⭐
  - 이미지 1, 3, 5: 16:9 가로형
  - 이미지 2, 4, 6: 1:1 정사각형 (배경 제거 용이)
- ✅ **배경 교체 최적화**: 1:1 이미지는 단색 배경으로 캔바에서 쉽게 제거 가능

### 강화된 기능
- ✅ 네이버 블로그 복붙용 완성본
- ✅ **문어체 사용**: "하세요" 구어체 금지, "해야 합니다" 문어체 사용
- ✅ **이미지 가이드 2단계 분리** ⭐ NEW
  - AI 프롬프트 (복붙 전용, 수치 제외)
  - 디자이너 가이드 (상세 스펙 포함)
- ✅ 병원 홍보 (각 본론 섹션에 1회 이상, 전체 15-20%)
- ✅ SEO 최적화 (키워드 배치, 구조화, 가독성)
- ✅ 의료법 자동 준수

### 변경 사항
- ✅ **본문과 이미지 가이드 완전 분리**: 별도 파일로 관리
- ✅ **output 폴더 사용**: 최종 결과물은 output 폴더에 저장
- ✅ **한글 파일명**: 날짜와 내용에 맞는 알아보기 쉬운 이름 (예: 20260121_고혈압겨울철관리.md)
- ✅ **Compliance Checker 유지**: 전문적인 의료법 검토 품질 보장
- ✅ **2단계 검증**: Writer 작성 → Compliance Checker 검토

### 2025년 SEO 강화 업데이트 ⭐ NEW
- ✅ **검색 의도 분류**: 정보형/상업형/로컬형 3가지 유형별 전략
- ✅ **제목 지역명 강화**: "김포"를 앞쪽 15자 이내 필수 배치
- ✅ **질문형 소제목**: 최소 3개 이상 (사용자 니즈 직접 충족)
- ✅ **표(Table) 필수화**: 모든 블로그에 2개 이상 표 포함
- ✅ **첫 문단 강화**: 5가지 필수 요소 + 글자수 엄격 준수 (100자)
- ✅ **롱테일 키워드**: H2 소제목 및 본문에 전략적 배치
- ✅ **댓글 유도**: 결론에 참여 유도 문구 필수
- ✅ **홈피드 최적화**: 검색형 + 홈피드형 투트랙 전략
- ✅ **스마트블록 대응**: 검색 의도 중심 콘텐츠 구성
- ✅ **C-Rank 최적화**: Depth + Impact + Activity 3대 요소 강화

**개선 효과**: SEO 점수 75점 → 90점 목표

## 사용법

```
"고혈압 겨울철 관리" 주제로 블로그 글 작성해줘
```

Claude가 자동으로 5단계 실행:
1. 아웃라인 생성 + **테마 랜덤 선택** (`temp/outline.json`)
   - 1-8 중 랜덤 선택 (예: Theme 3 Fresh Green)
   - 초록색 계열로 6개 이미지 통일
2. 리서치 (`temp/research.json`)
3. 본문 초안 작성 (`temp/draft.md`)
4. 의료법 검토 및 수정 → **`output/[날짜]_[한글제목].md` 생성** ⭐
5. 이미지 가이드 작성 (테마 적용) → **`output/[날짜]_[한글제목]_이미지가이드.md` 생성** ⭐
   - 6개 이미지 모두 선택된 테마 색상/스타일 적용

💡 **결과물**:
- `output/[날짜]_[한글제목].md` → 네이버 블로그 본문에 복사/붙여넣기 (의료법 검토 완료)
- `output/[날짜]_[한글제목]_이미지가이드.md` → 통일감 있는 6개 이미지 제작 가이드

### 테마 랜덤 선택 예시
- 블로그 생성 1회차 → Theme 3 (Fresh Green) - 초록색, 신선한 느낌
- 블로그 생성 2회차 → Theme 7 (Professional Gray) - 회색, 깔끔한 느낌
- 블로그 생성 3회차 → Theme 5 (Energetic Coral) - 코랄색, 활력 있는 느낌
- 매번 다른 색상 조합으로 다양한 느낌의 블로그 생성

## 중요 원칙

### 문어체 사용 (필수)
- ❌ 금지: "하세요", "드세요", "주세요" 등 모든 "-세요" 구어체
- ✅ 필수: "해야 합니다", "할 수 있습니다", "합니다" 등 문어체

### 의료법 준수
- ❌ 금지: "완치", "최고", "100% 효과", "타 병원보다"
- ✅ 권장: "개선에 도움", "개인차 있음", "전문의 상담 필요"

### 네이버 SEO (검색 상위 노출) ⭐ 2025 강화

#### 2025 네이버 SEO 트렌드 반영
- **스마트블록 대응**: 키워드 나열이 아닌 검색 의도 중심 콘텐츠
- **C-Rank 알고리즘**: Depth(깊이) + Impact(영향력) + Activity(활동성)
- **투트랙 전략**: 검색형 + 홈피드 추천형 콘텐츠

#### 제목 최적화 (CTR 극대화)
- **길이**: 28-32자 (네이버 검색 결과 전체 노출)
- **지역명 필수**: "김포"를 앞쪽 15자 이내 배치 ⭐
  - 예: "김포 무릎 통증 원인 5가지" (○)
  - 예: "무릎 통증 치료, 김포다조은병원" (△ 개선 필요)
- **숫자 활용**: "5가지", "3단계" 등으로 클릭률 증가
- **질문형/해결형**: 궁금증 유발 또는 해결책 제시

#### 키워드 전략 (3단계)
1. **핵심 키워드**: 사용자 입력 키워드
2. **지역 키워드**: 김포, 김포시
3. **병원 키워드**: 김포다조은병원
4. **롱테일 키워드**: 구체적 상황/연령 조합
   - 예: "50대 무릎 통증 원인", "김포 무릎 통증 병원", "겨울철 고혈압 관리"

#### 첫 문단 규칙 (강화) ⭐
**필수 포함 (100자 이내)**:
- 핵심 키워드 3회
- 지역명 "김포" 1회
- 병원명 "김포다조은병원" 1회
- 공감 질문 1개
- 문어체 사용

#### 본문 구조화 (스마트블록 대응)
- **질문형 소제목**: 6개 섹션 중 최소 3개 이상 질문형
  - 예: "무릎 통증, 왜 생기는 걸까요?"
  - 예: "정확한 진단, 어떻게 받을까요?"
- **표(Table) 필수**: 최소 2개 이상
  - 표 1: 비교/분류 표 (본론1-2)
  - 표 2: 치료/관리 표 (본론3-4)
- **롱테일 키워드 배치**:
  - H2 소제목에 1개 이상
  - 본문 각 섹션에 1-2회

#### C-Rank 알고리즘 대응
**Depth (깊이 증가)**:
- 표 2개로 정보 밀도 증가
- 리스트 형식으로 구조화
- 3000-3500자 적정 분량

**Impact (영향력 증가)**:
- 결론에 댓글 유도 문구 필수
  - 예: "혹시 [증상] 관련하여 궁금한 점이 있으시다면 댓글로 남겨주세요"
- 경험 공유 유도
- 실용적 팁 제공 (체크리스트, 자가진단)

**Activity (활동성)**:
- 정기적 콘텐츠 생성
- 체류시간 3분 이상 목표
  - 이미지 6개 (60초)
  - 표 2개 (40초)
  - 본문 읽기 (120초)

#### 홈피드 최적화 (투트랙 전략) ⭐
- **클릭 유도**: 제목에 감정 유발 단어 (걱정, 해결, 호기심)
- **체류시간**: 이미지 6개 + 표 2개 + 짧은 단락
- **공유 유도**: 체크리스트, 바로 실천 가능한 팁 제공

### 병원 홍보 (15-20%)
- 각 본론 섹션에 검사/치료 안내
- "김포다조은병원에서는..." 자연스럽게 삽입
- CTA: 전화, 온라인 예약, 검사 목록

## 파일 구조

```
agents/          - 5개 에이전트 프롬프트
  ├── planner.md
  ├── researcher.md
  ├── writer.md
  ├── compliance_checker.md
  └── image_layout_designer.md

temp/            - 중간 결과물
  ├── outline.json           # 1단계
  ├── research.json          # 2단계
  ├── draft.md               # 3단계 (초안)
  └── compliance_report.json # 4단계 (검토 보고서)

output/          - 최종 결과물 ⭐
  ├── [날짜]_[한글제목].md                 # 4단계 최종 본문 (네이버 블로그 복붙용)
  └── [날짜]_[한글제목]_이미지가이드.md    # 5단계 이미지 가이드
```

## 네이버 블로그 작업 흐름

1. **본문 작성**
   - `output/[날짜]_[한글제목].md` 파일 열기
   - 전체 내용 복사
   - 네이버 블로그 "글쓰기"에서 붙여넣기

2. **이미지 제작 및 삽입**
   - `output/[날짜]_[한글제목]_이미지가이드.md` 파일 열기

   **옵션 1 (AI 생성 - 나노바나나/ImageFX/Midjourney) ⭐ 권장**
   - 각 이미지의 **"🤖 AI 이미지 생성 프롬프트"** 섹션 복사
   - 나노바나나/ImageFX/Midjourney 프롬프트 창에 **그대로 붙여넣기**
   - 이미지 생성 (폰트명, pt, px 등은 자동 제외되어 텍스트로 안 나옴)
   - 필요시 한글 텍스트 추가 편집

   **옵션 2 (직접 제작 - Canva/Figma)**
   - **"📐 디자이너용 상세 가이드"** 섹션 참고
   - Canva, Figma 등에서 타이포그래피, 여백 스펙 보고 디자인 제작

   **배경 처리**
   - **1:1 이미지 (이미지 2, 4, 6)**: 단색 배경으로 생성 → 캔바에서 배경 제거 → 일반 사진 배경 삽입
   - **16:9 이미지 (이미지 1, 3, 5)**: 그라디언트/디자인 배경 그대로 사용

   - 블로그에 삽입

3. **발행**
   - 카테고리, 태그 설정
   - 발행
