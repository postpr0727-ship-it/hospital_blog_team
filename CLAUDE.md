# CLAUDE.md

김포다조은병원 블로그 자동 생성 시스템 - Claude Code 가이드

## 프로젝트 개요

의료 블로그 콘텐츠를 5단계 멀티 에이전트 시스템으로 자동 생성합니다.
- **목표**: 네이버 블로그 복붙용 완성 본문 + 의료법 준수 + 병원 홍보 (15-20%)
- **출력**:
  - `output/[날짜]_[한글제목].md` (본문, 3000-3500자, 의료법 검토 완료)
  - `output/[날짜]_[한글제목]_이미지가이드.md` (이미지 가이드만)
- **핵심**: 네이버 블로그에 바로 복붙, 이미지는 AI 생성 또는 직접 제작

## 프로세스 (5단계)

### 1단계: Planner (agents/planner.md)
- 입력: 키워드 (예: "고혈압 겨울철 관리")
- 출력: `temp/outline.json` (6개 섹션 구조)
- 역할: 서론 1 + 본론 4 + 결론 1

### 2단계: Researcher (agents/researcher.md)
- 입력: `temp/outline.json`
- 출력: `temp/research.json`
- 역할: 의료 정보 리서치, 통계, 팁

### 3단계: Writer (agents/writer.md)
- 입력: `temp/outline.json` + `temp/research.json`
- 출력: `temp/draft.md` (초안)
- **역할**:
  - 본문 마크다운 생성 (3000-3500자)
  - 이미지 placeholder 삽입 (`[IMAGE: 설명]` 형식)
  - 네이버 SEO 최적화 (키워드 배치, 구조화, 가독성)
  - 병원 홍보 강화 (각 섹션마다 검사/치료 안내, 전체 15-20%)
  - 기본적인 의료법 주의사항 준수

### 4단계: Compliance Checker (agents/compliance_checker.md) ⭐ 의료법 검토 및 최종 본문
- 입력: `temp/draft.md`
- 출력: **`output/[날짜]_[한글제목].md` (최종 본문)**
- **역할**:
  - **전문적인 의료법 위반 검토** (200줄 전문 로직)
  - 심각도 평가 (high/medium/low)
  - 위반 사항 자동 수정
  - `temp/compliance_report.json` 생성 (감사 추적)
  - **output 폴더에 한글 파일명으로 저장**

### 5단계: Image Layout Designer (agents/image_layout_designer.md) ⭐ 이미지 가이드만
- 입력: `temp/outline.json`
- 출력: **`output/[날짜]_[한글제목]_이미지가이드.md` (이미지 가이드만)**
- **역할**:
  - **본문 내용 없이 이미지 가이드만 작성**
  - outline 기반으로 6개 이미지 계획 수립
  - **두 가지 형태 제공**:
    1. **디자이너 가이드**: 레이아웃, 텍스트, 색상, 구도 (Canva, 피그마 등에서 제작)
    2. **AI 프롬프트**: 구글 ImageFX에 바로 사용 가능한 영어 프롬프트

## 주요 특징

### 이미지 제작 옵션 (2가지)
- ✅ **AI 이미지 생성**: ImageFX 프롬프트 → 빠르고 간편
- ✅ **디자이너 직접 제작**: 상세 가이드 → 맞춤형 브랜딩

### 강화된 기능
- ✅ 네이버 블로그 복붙용 완성본
- ✅ 이미지 가이드 (디자이너용 + AI 프롬프트)
- ✅ 병원 홍보 (각 본론 섹션에 1회 이상, 전체 15-20%)
- ✅ SEO 최적화 (키워드 배치, 구조화, 가독성)
- ✅ 의료법 자동 준수

### 변경 사항
- ✅ **본문과 이미지 가이드 완전 분리**: 별도 파일로 관리
- ✅ **output 폴더 사용**: 최종 결과물은 output 폴더에 저장
- ✅ **한글 파일명**: 날짜와 내용에 맞는 알아보기 쉬운 이름 (예: 20260121_고혈압겨울철관리.md)
- ✅ **Compliance Checker 유지**: 전문적인 의료법 검토 품질 보장
- ✅ **2단계 검증**: Writer 작성 → Compliance Checker 검토

## 사용법

```
"고혈압 겨울철 관리" 주제로 블로그 글 작성해줘
```

Claude가 자동으로 5단계 실행:
1. 아웃라인 생성 (`temp/outline.json`)
2. 리서치 (`temp/research.json`)
3. 본문 초안 작성 (`temp/draft.md`)
4. 의료법 검토 및 수정 → **`output/[날짜]_[한글제목].md` 생성** ⭐
5. 이미지 가이드 작성 → **`output/[날짜]_[한글제목]_이미지가이드.md` 생성** ⭐

💡 **결과물**:
- `output/[날짜]_[한글제목].md` → 네이버 블로그 본문에 복사/붙여넣기 (의료법 검토 완료)
- `output/[날짜]_[한글제목]_이미지가이드.md` → 이미지 제작 참고

## 중요 원칙

### 의료법 준수
- ❌ 금지: "완치", "최고", "100% 효과", "타 병원보다"
- ✅ 권장: "개선에 도움", "개인차 있음", "전문의 상담 필요"

### 네이버 SEO (검색 상위 노출)
- **제목 최적화**: 28-32자, 핵심 키워드 앞쪽 15자 이내 배치
- **키워드 전략**: 핵심 + 지역(김포) + 병원명 조합
  - 예: "무릎 통증 원인 5가지, 김포다조은병원 정형외과 치료법"
- **첫 문단**: 키워드 3회 + 지역명 + 병원명 (초반 100자 이내)
- **H2 소제목**: 각 소제목에 관련 키워드 포함
- **롱테일 키워드**: 구체적 상황/연령 조합으로 경쟁 회피
  - 예: "50대 무릎 통증 원인", "김포 무릎 통증 병원"
- **C-Rank 대응**: 체류시간 3분 이상, 공감/댓글 유도

### 병원 홍보 (15-20%)
- 각 본론 섹션에 검사/치료 안내
- "김포다조은병원에서는..." 자연스럽게 삽입
- CTA: 전화, 온라인 예약, 검사 목록

## 파일 구조

```
agents/          - 5개 에이전트 프롬프트
  ├── planner.md
  ├── researcher.md
  ├── writer.md
  ├── compliance_checker.md
  └── image_layout_designer.md

temp/            - 중간 결과물
  ├── outline.json           # 1단계
  ├── research.json          # 2단계
  ├── draft.md               # 3단계 (초안)
  └── compliance_report.json # 4단계 (검토 보고서)

output/          - 최종 결과물 ⭐
  ├── [날짜]_[한글제목].md                 # 4단계 최종 본문 (네이버 블로그 복붙용)
  └── [날짜]_[한글제목]_이미지가이드.md    # 5단계 이미지 가이드
```

## 네이버 블로그 작업 흐름

1. **본문 작성**
   - `output/[날짜]_[한글제목].md` 파일 열기
   - 전체 내용 복사
   - 네이버 블로그 "글쓰기"에서 붙여넣기

2. **이미지 제작 및 삽입**
   - `output/[날짜]_[한글제목]_이미지가이드.md` 파일 열기
   - **옵션 1 (AI 생성)**: AI 프롬프트를 ImageFX에 복사/붙여넣기 → 생성 → 한글 텍스트 추가 → 블로그에 삽입
   - **옵션 2 (직접 제작)**: 디자이너 가이드 보고 Canva/피그마에서 제작 → 블로그에 삽입

3. **발행**
   - 카테고리, 태그 설정
   - 발행
